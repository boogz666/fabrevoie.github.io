<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fabrevoie - Footwear store. We make weird things.</title>
    <meta name="description" content="Fabrevoie - We make weird things.">

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="57x57" href="/favicon/placeholder/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/favicon/placeholder/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/favicon/placeholder/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/favicon/placeholder/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/favicon/placeholder/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/favicon/placeholder/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/favicon/placeholder/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/favicon/placeholder/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/placeholder/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/favicon/placeholder/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon/placeholder/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/favicon/placeholder/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon/placeholder/favicon-16x16.png">
    <link rel="manifest" href="/favicon/placeholder/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/favicon/placeholder/ms-icon-144x144.png">
    
    <!-- Open Graph Tags -->
    <meta property="og:title" content="Fabrevoie - Footwear store. The Future of Fashion.">
    <meta property="og:description" content="Fabrevoie - Footwear store. The Future of Fashion.">
    <meta property="og:image" content="https://fabrevoie.com/images/logo.png">
    <meta property="og:url" content="https://fabrevoie.com">
    <meta property="og:type" content="website">

    <!-- Twitter Card Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Fabrevoie - Footwear store. The Future of Fashion.">
    <meta name="twitter:description" content="Fabrevoie - Footwear store. The Future of Fashion.">
    <meta name="twitter:image" content="https://fabrevoie.com/images/logo.png">

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-TZJE1XNS2Z"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('consent', 'default', {
            'ad_storage': 'denied',
            'analytics_storage': 'denied'
        });
        gtag('js', new Date());
        gtag('config', 'G-TZJE1XNS2Z');
    </script>

    <!-- Model Viewer Script -->
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>

    <!-- Font Awesome for Social Media Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

    <style>
        /* Reset default margin and padding */
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            font-family: 'Poppins', sans-serif;
            overflow: hidden;
            color: white;
        }

        /* Announcement Header */
        .announcement-header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            color: #9ED9B5; /* Pastel green */
            padding: 10px 0;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .announcement-text {
            white-space: nowrap;
            animation: scrollText 20s linear infinite;
        }

        @keyframes scrollText {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }

        /* Sticky Logo */
        .sticky-logo {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
            width: 50px;
            height: auto;
            filter: brightness(0) saturate(100%) invert(84%) sepia(14%) saturate(437%) hue-rotate(82deg) brightness(95%) contrast(89%); /* Pastel green color */
            transition: transform 0.3s ease;
        }

        .sticky-logo:hover {
            transform: scale(1.1);
        }

        /* Rest of the CSS remains the same */
        /* ... (Include all other CSS styles from your original code) ... */
    </style>
</head>
<body>
    
    <!-- Announcement Header -->
    <div class="announcement-header">
        <div class="announcement-text">
            Fabrevoie - The future is here - <span id="countdown">Days until drop: <span id="days">00</span></span> - Sign up Now.
        </div>
    </div>

    <!-- Sticky Logo -->
    <a href="index.html">
        <img src="logo-small.png" alt="Fabrevoie Logo" class="sticky-logo">
    </a>

    <!-- Background Video -->
    <video class="bg-video" autoplay muted loop playsinline>
        <source src="bckgrnd.mp4" type="video/mp4">
        <source src="bckgrnd.webm" type="video/webm">
        Your browser does not support background video.
    </video>

    <!-- Overlay to darken the video -->
    <div class="overlay"></div>

    <!-- Main Content -->
    <div class="container">
        <!-- Middle Logo (3D Logo with auto-rotation) -->
        <model-viewer 
            src="3Dlogo2.glb" 
            alt="Fabrevoie 3D Logo" 
            class="logo" 
            auto-rotate
            camera-controls 
            style="width: 400px; height: 400px;"
            background-color="transparent"
            exposure="1.0"
            environment-intensity="1.2"
            shadow-intensity="1"
            camera-orbit="0deg 90deg 100%">
        </model-viewer>

        <!-- MailerLite Email Form -->
        <div class="ml-embedded" data-form="xDqLnS" id="mailerLiteForm"></div>

        <!-- Text under the MailerLite form -->
        <p class="signup-text" id="signupText">Sign up to access the website.</p>

        <!-- Enter Button (Initially hidden, will be shown based on localStorage) -->
        <a href="homepage.html" id="enterButton" class="enter-button" style="display: none;">
            Enter
        </a>
    </div>

    <!-- Social Media Icons (Moved to bottom) -->
    <div class="social-container">
        <div class="social-icons">
            <a href="https://www.instagram.com/fabrevoie" target="_blank" aria-label="Follow us on Instagram">
                <i class="fab fa-instagram"></i>
            </a>
            <a href="https://www.tiktok.com/@fabrevoie" target="_blank" aria-label="Follow us on TikTok">
                <i class="fab fa-tiktok"></i>
            </a>
        </div>
        <!-- Text under social icons -->
        <p class="social-text">Show your support by following our socials.</p>
    </div>

    <!-- Copyright Text -->
    <div class="copyright">
        &copy; 2025, Fabrevoie, Inc. All rights reserved. | 
        <a href="privacy-policy.html" style="color: #9ED9B5; text-decoration: none;">Privacy Policy</a>
    </div>

    <!-- Cookie Consent Banner -->
    <div id="cookieBanner" class="cookie-banner">
        <div class="cookie-text">
            This site uses cookies to provide you with a better experience.&nbsp;
            <a href="/privacy-policy" target="_blank" style="color: #9ED9B5; text-decoration: underline;">Learn more</a>.
        </div>
        <div class="cookie-buttons">
            <button onclick="acceptCookies()">Accept</button>
            <button onclick="closeCookieBanner()">Decline</button>
        </div>
    </div>

    <!-- Audio Elements -->
    <audio id="welcomeSound" src="welcome.mp3"></audio>
    <audio id="accessSound" src="access-granted.mp3"></audio>

    <script>
        // Play welcome sound on page load
        document.addEventListener('DOMContentLoaded', function() {
            const welcomeSound = document.getElementById('welcomeSound');
            welcomeSound.play().catch(error => {
                console.log('Autoplay blocked - user interaction required');
            });
        });

        // Countdown to August 21 2025
        const countdownDate = new Date('2025-08-21T00:00:00').getTime();

        function updateCountdown() {
            const now = new Date().getTime();
            const distance = countdownDate - now;
            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            document.getElementById('days').textContent = days;
        }

        setInterval(updateCountdown, 1000);
        updateCountdown(); // Initial call

        // Play access granted sound after signup
        document.addEventListener('ml-subscribe', function(event) {
            if (event.detail.success) {
                document.getElementById('accessSound').play();
            }
        });

        // Function to show Enter button and hide signup form
        function showEnterButton() {
            const enterButton = document.getElementById('enterButton');
            const mailerLiteForm = document.getElementById('mailerLiteForm');
            const signupText = document.getElementById('signupText');

            if (enterButton && mailerLiteForm && signupText) {
                enterButton.style.display = 'block';
                mailerLiteForm.style.display = 'none';
                signupText.style.display = 'none'; // Hide the text
            }
        }

        // Check if user has already signed up
        document.addEventListener('DOMContentLoaded', function() {
            const formSubmitted = localStorage.getItem('formSubmitted');
            if (formSubmitted === 'true') {
                showEnterButton();
            }
            
            // Check cookie consent
            const consent = localStorage.getItem('cookieConsent');
            const cookieBanner = document.getElementById('cookieBanner');

            if (consent === 'accepted' || consent === 'declined') {
                if (cookieBanner) {
                    cookieBanner.style.display = 'none';
                }
                if (typeof gtag === 'function') {
                    gtag('consent', 'update', {
                        'ad_storage': consent === 'accepted' ? 'granted' : 'denied',
                        'analytics_storage': consent === 'accepted' ? 'granted' : 'denied'
                    });
                }
            }

            // Start video
            const video = document.querySelector('.bg-video');
            if (video) {
                video.play().catch(function(error) {
                    console.log("Video play failed:", error);
                    document.body.style.backgroundColor = "#000000";
                });
            }
        });

        // Handle form submission
        document.addEventListener('ml-subscribe', function(event) {
            if (event.detail && event.detail.success) {
                localStorage.setItem('formSubmitted', 'true');
                showEnterButton();
            }
        });

        // Cookie functions
        function acceptCookies() {
            localStorage.setItem('cookieConsent', 'accepted');
            document.getElementById('cookieBanner').style.display = 'none';
            if (typeof gtag === 'function') {
                gtag('consent', 'update', {
                    'ad_storage': 'granted',
                    'analytics_storage': 'granted'
                });
            }
        }

        function closeCookieBanner() {
            localStorage.setItem('cookieConsent', 'declined');
            document.getElementById('cookieBanner').style.display = 'none';
            if (typeof gtag === 'function') {
                gtag('consent', 'update', {
                    'ad_storage': 'denied',
                    'analytics_storage': 'denied'
                });
            }
        }
    </script>
</body>
</html>
